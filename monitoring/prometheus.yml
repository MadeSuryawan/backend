global:
    scrape_interval: 15s
    evaluation_interval: 15s
    external_labels:
        monitor: "baliblissed-monitor"

# Alertmanager configuration (optional)
alerting:
    alertmanagers:
        - static_configs:
              - targets: []

# Load rules once and periodically evaluate them
rule_files:
    # - "alert_rules.yml"

scrape_configs:
    # Prometheus self-monitoring
    - job_name: "prometheus"
      static_configs:
          - targets: ["localhost:9090"]

    # BaliBlissed Backend metrics
    - job_name: "baliblissed-backend"
      static_configs:
          - targets: ["host.docker.internal:8000"]
      metrics_path: "/metrics"
      scrape_interval: 15s
      scrape_timeout: 10s

    # OpenTelemetry Collector metrics
    - job_name: "otel-collector"
      static_configs:
          - targets: ["otel-collector:8888"]
      scrape_interval: 15s
